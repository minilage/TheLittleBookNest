<Window x:Class="TheLittleBookNest.View.AddBookDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:TheLittleBookNest.Converters"
        Title="Add Book"
        Height="650"
        Width="400"
        WindowStartupLocation="CenterScreen" 
        Background="{DynamicResource DialogBackground}">

    <Window.Resources>
        <local:DecimalToStringConverter x:Key="DecimalToStringConverter" />
    </Window.Resources>

    <Window.InputBindings>
        <!-- Bind Enter-tangenten till SaveCommand -->
        <KeyBinding Key="Enter" Command="{Binding SaveCommand}" />
        <!-- Bind ESC-tangenten till CloseCommand -->
        <KeyBinding Key="Escape" Command="{Binding CloseCommand}" />
    </Window.InputBindings>

    <Grid Margin="15">
        <StackPanel>
            <!-- Rubrik -->
            <TextBlock Text="Add a New Book"
                       Style="{StaticResource HeadingTextStyle}"
                       Margin="0,10,0,30"
                       HorizontalAlignment="Center"/>

            <!-- PopUp -->
            <TextBlock Text="ISBN13" FontWeight="SemiBold" Margin="0,10,0,5" Foreground="{DynamicResource SecondaryTextBrush}" Width="347" />
            <TextBox Text="{Binding ISBN13, UpdateSourceTrigger=PropertyChanged}" Width="350" Style="{StaticResource TextBoxStyle}" />

            <TextBlock Text="Title" FontWeight="SemiBold" Margin="0,10,0,5" Foreground="{DynamicResource SecondaryTextBrush}" Width="346" />
            <TextBox Text="{Binding Title, UpdateSourceTrigger=PropertyChanged}" Width="350" Style="{StaticResource TextBoxStyle}" />

            <TextBlock Text="Author" FontWeight="SemiBold" Margin="0,10,0,5" Foreground="{DynamicResource SecondaryTextBrush}" Width="346" />
            <ComboBox ItemsSource="{Binding Authors}" SelectedItem="{Binding SelectedAuthor}" DisplayMemberPath="FullName" Width="350" Style="{StaticResource ComboBoxStyle}" />

            <TextBlock Text="Book Format" FontWeight="SemiBold" Margin="0,10,0,5" Foreground="{DynamicResource SecondaryTextBrush}" Width="346" />
            <ComboBox ItemsSource="{Binding BookFormats}" SelectedItem="{Binding SelectedBookFormat}" Width="350" Style="{StaticResource ComboBoxStyle}" />

            <TextBlock Text="Price" FontWeight="SemiBold" Margin="0,10,0,5" Foreground="{DynamicResource SecondaryTextBrush}" Width="348" />
            <TextBox Text="{Binding Price, Converter={StaticResource DecimalToStringConverter}, UpdateSourceTrigger=PropertyChanged}" Width="350" Style="{StaticResource TextBoxStyle}" />


            <TextBlock Text="Language" FontWeight="SemiBold" Margin="0,10,0,5" Foreground="{DynamicResource SecondaryTextBrush}" Width="347" />
            <TextBox Text="{Binding Language, UpdateSourceTrigger=PropertyChanged}" Width="350" Style="{StaticResource TextBoxStyle}" />


            <!-- Spara och Avbryt -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,50,0,0">
                <Button Name="SaveButton" Content="Save" Command="{Binding SaveCommand}" Width="120" Height="40" Margin="10,0,10,0" Style="{StaticResource PrimaryButtonStyle}" />
                <Button Name="CancelButton" Content="Cancel" Command="{Binding CloseCommand}" Width="120" Height="40" Margin="10,0,10,0" Style="{StaticResource SecondaryButtonStyle}" />
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>
